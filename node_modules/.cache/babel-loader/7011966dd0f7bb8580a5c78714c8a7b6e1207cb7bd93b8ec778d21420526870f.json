{"ast":null,"code":"var _jsxFileName = \"/Users/guillermovarelli/Documents/workspace/act-front/src/form/StatusModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Modal, Box, Typography, Button, Slider, MenuItem, Select, InputLabel, FormControl } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst style = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 400,\n  bgcolor: \"background.paper\",\n  borderRadius: 4,\n  boxShadow: 24,\n  p: 4\n};\nconst marks = [{\n  value: 0.15,\n  label: \"Suck\"\n}, {\n  value: 0.35,\n  label: \"Failed\"\n}, {\n  value: 0.55,\n  label: \"Regular\"\n}, {\n  value: 0.75,\n  label: \"Accomplished\"\n}, {\n  value: 0.95,\n  label: \"Excellence\"\n}];\nconst statusValueMap = {\n  suck: 0.15,\n  failed: 0.35,\n  regular: 0.55,\n  accomplished: 0.75,\n  excellence: 0.95\n};\nconst valueStatusMap = {\n  0.15: \"suck\",\n  0.35: \"failed\",\n  0.55: \"regular\",\n  0.75: \"accomplished\",\n  0.95: \"excellence\"\n};\nconst StatusModal = ({\n  selectedCell,\n  setSelectedCell\n}) => {\n  _s();\n  const [status, setStatus] = useState(\"failed\");\n  useEffect(() => {\n    if (selectedCell !== null && selectedCell !== void 0 && selectedCell.status) {\n      setStatus(selectedCell.status);\n    }\n  }, [selectedCell]);\n  if (!selectedCell) return null;\n  const handleClose = () => setSelectedCell(null);\n  const handleSave = () => {\n    const payload = {\n      date: selectedCell.x,\n      activity: selectedCell.activity,\n      status: status\n    };\n    fetch(\"http://localhost:8080/activities\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    }).then(res => {\n      if (!res.ok) throw new Error(\"Error saving\");\n      return res.json();\n    }).then(() => setSelectedCell(null)).catch(err => {\n      console.error(err);\n      alert(\"Error saving status\");\n    });\n  };\n  const handleSliderChange = (_, value) => {\n    const closest = marks.reduce((prev, curr) => Math.abs(curr.value - value) < Math.abs(prev.value - value) ? curr : prev);\n    setStatus(valueStatusMap[closest.value]);\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: !!selectedCell,\n    onClose: handleClose,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: style,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"Editar Actividad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [\"Actividad: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: selectedCell.activity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [\"Fecha: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: selectedCell.x\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 4,\n        children: /*#__PURE__*/_jsxDEV(Slider, {\n          value: statusValueMap[status],\n          onChange: handleSliderChange,\n          step: null,\n          marks: marks,\n          min: 0.15,\n          max: 0.95\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 3,\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        gap: 2,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          variant: \"outlined\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSave,\n          variant: \"contained\",\n          children: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(StatusModal, \"OK9u6o2NqPHMkEqbdpeV7D8dmN8=\");\n_c = StatusModal;\nexport default StatusModal;\nvar _c;\n$RefreshReg$(_c, \"StatusModal\");","map":{"version":3,"names":["React","useEffect","useState","Modal","Box","Typography","Button","Slider","MenuItem","Select","InputLabel","FormControl","jsxDEV","_jsxDEV","style","position","top","left","transform","width","bgcolor","borderRadius","boxShadow","p","marks","value","label","statusValueMap","suck","failed","regular","accomplished","excellence","valueStatusMap","StatusModal","selectedCell","setSelectedCell","_s","status","setStatus","handleClose","handleSave","payload","date","x","activity","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","json","catch","err","console","error","alert","handleSliderChange","_","closest","reduce","prev","curr","Math","abs","open","onClose","children","sx","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","mt","onChange","step","min","max","display","justifyContent","gap","onClick","_c","$RefreshReg$"],"sources":["/Users/guillermovarelli/Documents/workspace/act-front/src/form/StatusModal.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Modal,\n  Box,\n  Typography,\n  Button,\n  Slider,\n  MenuItem,\n  Select,\n  InputLabel,\n  FormControl,\n} from \"@mui/material\";\n\nconst style = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 400,\n  bgcolor: \"background.paper\",\n  borderRadius: 4,\n  boxShadow: 24,\n  p: 4,\n};\n\nconst marks = [\n  { value: 0.15, label: \"Suck\" },\n  { value: 0.35, label: \"Failed\" },\n  { value: 0.55, label: \"Regular\" },\n  { value: 0.75, label: \"Accomplished\" },\n  { value: 0.95, label: \"Excellence\" },\n];\n\nconst statusValueMap = {\n  suck: 0.15,\n  failed: 0.35,\n  regular: 0.55,\n  accomplished: 0.75,\n  excellence: 0.95,\n};\n\nconst valueStatusMap = {\n  0.15: \"suck\",\n  0.35: \"failed\",\n  0.55: \"regular\",\n  0.75: \"accomplished\",\n  0.95: \"excellence\",\n};\n\nconst StatusModal = ({ selectedCell, setSelectedCell }) => {\n  const [status, setStatus] = useState(\"failed\");\n\n  useEffect(() => {\n    if (selectedCell?.status) {\n      setStatus(selectedCell.status);\n    }\n  }, [selectedCell]);\n\n  if (!selectedCell) return null;\n\n  const handleClose = () => setSelectedCell(null);\n\n  const handleSave = () => {\n    const payload = {\n      date: selectedCell.x,\n      activity: selectedCell.activity,\n      status: status,\n    };\n\n    fetch(\"http://localhost:8080/activities\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(\"Error saving\");\n        return res.json();\n      })\n      .then(() => setSelectedCell(null))\n      .catch((err) => {\n        console.error(err);\n        alert(\"Error saving status\");\n      });\n  };\n\n  const handleSliderChange = (_, value) => {\n    const closest = marks.reduce((prev, curr) =>\n      Math.abs(curr.value - value) < Math.abs(prev.value - value) ? curr : prev\n    );\n    setStatus(valueStatusMap[closest.value]);\n  };\n\n  return (\n    <Modal open={!!selectedCell} onClose={handleClose}>\n      <Box sx={style}>\n        <Typography variant=\"h6\" gutterBottom>\n          Editar Actividad\n        </Typography>\n        <Typography>\n          Actividad: <strong>{selectedCell.activity}</strong>\n        </Typography>\n        <Typography>\n          Fecha: <strong>{selectedCell.x}</strong>\n        </Typography>\n\n        <Box mt={4}>\n          <Slider\n            value={statusValueMap[status]}\n            onChange={handleSliderChange}\n            step={null}\n            marks={marks}\n            min={0.15}\n            max={0.95}\n          />\n        </Box>\n\n        <Box mt={3} display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n          <Button onClick={handleClose} variant=\"outlined\">\n            Cancelar\n          </Button>\n          <Button onClick={handleSave} variant=\"contained\">\n            Guardar\n          </Button>\n        </Box>\n      </Box>\n    </Modal>\n  );\n};\n\nexport default StatusModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}