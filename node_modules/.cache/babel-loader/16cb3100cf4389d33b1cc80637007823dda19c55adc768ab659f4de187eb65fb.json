{"ast":null,"code":"var _jsxFileName = \"/Users/guillermovarelli/Documents/workspace/act-front/src/form/StatusModal.js\";\nimport React from \"react\";\nimport Modal from \"@mui/material/Modal\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Slider from \"@mui/material/Slider\";\nimport Button from \"@mui/material/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UPDATE_API_URL = \"http://localhost:8080/activities/update\";\nconst statusLevels = [{\n  value: 0.15,\n  label: \"suck\",\n  color: \"#000000\"\n}, {\n  value: 0.35,\n  label: \"failed\",\n  color: \"#FF0000\"\n}, {\n  value: 0.55,\n  label: \"Regular\",\n  color: \"#FFFF00\"\n}, {\n  value: 0.75,\n  label: \"Accomplished\",\n  color: \"#00A100\"\n}, {\n  value: 0.95,\n  label: \"Excellence\",\n  color: \"#0000FF\"\n}];\nconst getClosestStatus = value => {\n  return statusLevels.reduce((prev, curr) => Math.abs(curr.value - value) < Math.abs(prev.value - value) ? curr : prev);\n};\nconst formatDate = isoDate => {\n  const [year, month, day] = isoDate.split(\"-\");\n  return `${day}-${month}-${year}`;\n};\nconst StatusModal = ({\n  selectedCell,\n  setSelectedCell,\n  refreshData\n}) => {\n  var _statusLevels$find;\n  if (!selectedCell) return null;\n  const currentValue = ((_statusLevels$find = statusLevels.find(s => s.label === selectedCell.status)) === null || _statusLevels$find === void 0 ? void 0 : _statusLevels$find.value) || 0.55;\n  const handleStatusChange = (event, newValue) => {\n    setSelectedCell(prev => ({\n      ...prev,\n      status: getClosestStatus(newValue).label,\n      y: newValue\n    }));\n  };\n  const handleSave = () => {\n    const data = {\n      date: selectedCell.date,\n      activity: selectedCell.activity,\n      status: selectedCell.status\n    };\n    fetch(UPDATE_API_URL, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      if (response.ok) {\n        refreshData();\n        setSelectedCell(null);\n      }\n    }).catch(error => console.error(\"Error updating data:\", error));\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: Boolean(selectedCell),\n    onClose: () => setSelectedCell(null),\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        width: 400,\n        bgcolor: \"background.paper\",\n        boxShadow: 24,\n        p: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        component: \"h2\",\n        children: \"Editar actividad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        sx: {\n          marginBottom: 2\n        },\n        children: [\"Fecha: \", formatDate(selectedCell.date), \" | Actividad: \", selectedCell.activity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        value: currentValue,\n        onChange: handleStatusChange,\n        \"aria-labelledby\": \"status-slider\",\n        min: 0,\n        max: 1.2,\n        step: 0.05,\n        valueLabelDisplay: \"auto\",\n        valueLabelFormat: value => getClosestStatus(value).label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: statusLevels.map(level => /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: level.color,\n            fontSize: \"12px\"\n          },\n          children: level.label\n        }, level.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSave,\n        variant: \"contained\",\n        color: \"primary\",\n        sx: {\n          marginTop: 2\n        },\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_c = StatusModal;\nexport default StatusModal;\nvar _c;\n$RefreshReg$(_c, \"StatusModal\");","map":{"version":3,"names":["React","Modal","Box","Typography","Slider","Button","jsxDEV","_jsxDEV","UPDATE_API_URL","statusLevels","value","label","color","getClosestStatus","reduce","prev","curr","Math","abs","formatDate","isoDate","year","month","day","split","StatusModal","selectedCell","setSelectedCell","refreshData","_statusLevels$find","currentValue","find","s","status","handleStatusChange","event","newValue","y","handleSave","data","date","activity","fetch","method","body","JSON","stringify","headers","then","response","ok","catch","error","console","open","Boolean","onClose","children","sx","position","top","left","transform","width","bgcolor","boxShadow","p","variant","component","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","onChange","min","max","step","valueLabelDisplay","valueLabelFormat","style","display","justifyContent","map","level","fontSize","onClick","marginTop","_c","$RefreshReg$"],"sources":["/Users/guillermovarelli/Documents/workspace/act-front/src/form/StatusModal.js"],"sourcesContent":["import React from \"react\";\nimport Modal from \"@mui/material/Modal\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Slider from \"@mui/material/Slider\";\nimport Button from \"@mui/material/Button\";\n\nconst UPDATE_API_URL = \"http://localhost:8080/activities/update\";\n\nconst statusLevels = [\n  { value: 0.15, label: \"suck\", color: \"#000000\" },\n  { value: 0.35, label: \"failed\", color: \"#FF0000\" },\n  { value: 0.55, label: \"Regular\", color: \"#FFFF00\" },\n  { value: 0.75, label: \"Accomplished\", color: \"#00A100\" },\n  { value: 0.95, label: \"Excellence\", color: \"#0000FF\" },\n];\n\nconst getClosestStatus = (value) => {\n  return statusLevels.reduce((prev, curr) =>\n    Math.abs(curr.value - value) < Math.abs(prev.value - value) ? curr : prev\n  );\n};\n\nconst formatDate = (isoDate) => {\n  const [year, month, day] = isoDate.split(\"-\");\n  return `${day}-${month}-${year}`;\n};\n\nconst StatusModal = ({ selectedCell, setSelectedCell, refreshData }) => {\n  if (!selectedCell) return null;\n\n  const currentValue = statusLevels.find((s) => s.label === selectedCell.status)?.value || 0.55;\n\n  const handleStatusChange = (event, newValue) => {\n    setSelectedCell((prev) => ({\n      ...prev,\n      status: getClosestStatus(newValue).label,\n      y: newValue,\n    }));\n  };\n\n  const handleSave = () => {\n    const data = {\n      date: selectedCell.date,\n      activity: selectedCell.activity,\n      status: selectedCell.status,\n    };\n\n    fetch(UPDATE_API_URL, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((response) => {\n        if (response.ok) {\n          refreshData();\n          setSelectedCell(null);\n        }\n      })\n      .catch((error) => console.error(\"Error updating data:\", error));\n  };\n\n  return (\n    <Modal open={Boolean(selectedCell)} onClose={() => setSelectedCell(null)}>\n      <Box\n        sx={{\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          width: 400,\n          bgcolor: \"background.paper\",\n          boxShadow: 24,\n          p: 4,\n        }}\n      >\n        <Typography variant=\"h6\" component=\"h2\">\n          Editar actividad\n        </Typography>\n        <Typography variant=\"body1\" sx={{ marginBottom: 2 }}>\n          Fecha: {formatDate(selectedCell.date)} | Actividad: {selectedCell.activity}\n        </Typography>\n\n        <Slider\n          value={currentValue}\n          onChange={handleStatusChange}\n          aria-labelledby=\"status-slider\"\n          min={0}\n          max={1.2}\n          step={0.05}\n          valueLabelDisplay=\"auto\"\n          valueLabelFormat={(value) => getClosestStatus(value).label}\n        />\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          {statusLevels.map((level) => (\n            <span key={level.value} style={{ color: level.color, fontSize: \"12px\" }}>\n              {level.label}\n            </span>\n          ))}\n        </div>\n\n        <Button onClick={handleSave} variant=\"contained\" color=\"primary\" sx={{ marginTop: 2 }}>\n          Guardar\n        </Button>\n      </Box>\n    </Modal>\n  );\n};\n\nexport default StatusModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}