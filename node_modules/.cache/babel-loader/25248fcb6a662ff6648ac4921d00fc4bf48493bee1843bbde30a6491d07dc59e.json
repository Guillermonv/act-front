{"ast":null,"code":"var _jsxFileName = \"/Users/guillermovarelli/Documents/workspace/act-front/src/form/StatusModal.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// ... mismo imports y funciones ...\n\nconst StatusModal = ({\n  selectedCell,\n  setSelectedCell,\n  refreshData\n}) => {\n  var _statusLevels$find;\n  if (!selectedCell) return null;\n  const currentValue = ((_statusLevels$find = statusLevels.find(s => s.label === selectedCell.status)) === null || _statusLevels$find === void 0 ? void 0 : _statusLevels$find.value) || 0.55;\n  const handleStatusChange = (_, newValue) => {\n    const closestStatus = getClosestStatus(newValue);\n    setSelectedCell(prev => ({\n      ...prev,\n      status: closestStatus.label\n    }));\n  };\n  const handleSave = () => {\n    const closestStatus = getClosestStatus(currentValue);\n    const formattedDate = formatDate(selectedCell.x);\n    fetch(UPDATE_API_URL, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        date: formattedDate,\n        activity: selectedCell.activity,\n        status: closestStatus.label\n      })\n    }).then(() => {\n      console.log(\"Updated successfully\");\n      refreshData();\n    }).catch(err => console.error(\"Error updating:\", err));\n    setSelectedCell(null);\n  };\n  const closestStatus = getClosestStatus(currentValue);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: !!selectedCell,\n    onClose: () => setSelectedCell(null),\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        bgcolor: \"#FFFFFF\",\n        borderRadius: 1,\n        boxShadow: 10,\n        maxWidth: 420,\n        margin: \"auto\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        fontFamily: \"Arial, sans-serif\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Slider, {\n        value: currentValue,\n        step: 0.01,\n        min: 0.15,\n        max: 0.95,\n        onChange: handleStatusChange,\n        sx: {\n          mt: 0,\n          mb: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              fontSize: \"0.95rem\",\n              color: \"#000\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), \" \", formatDate(selectedCell.x)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              fontSize: \"0.95rem\",\n              color: \"#000\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Activity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), \" \", selectedCell.activity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flex: 1,\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              fontSize: \"1rem\",\n              fontWeight: \"bold\",\n              color: \"#000\"\n            },\n            children: closestStatus.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flex: 1,\n            textAlign: \"right\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: handleSave,\n            sx: {\n              fontSize: \"0.9rem\",\n              fontWeight: \"bold\",\n              px: 2,\n              py: 0.5,\n              textTransform: \"none\",\n              bgcolor: \"#000\",\n              '&:hover': {\n                bgcolor: \"#222\"\n              }\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_c = StatusModal;\nexport default StatusModal;\nvar _c;\n$RefreshReg$(_c, \"StatusModal\");","map":{"version":3,"names":["StatusModal","selectedCell","setSelectedCell","refreshData","_statusLevels$find","currentValue","statusLevels","find","s","label","status","value","handleStatusChange","_","newValue","closestStatus","getClosestStatus","prev","handleSave","formattedDate","formatDate","x","fetch","UPDATE_API_URL","method","headers","body","JSON","stringify","date","activity","then","console","log","catch","err","error","_jsxDEV","Modal","open","onClose","children","Box","sx","p","bgcolor","borderRadius","boxShadow","maxWidth","margin","display","flexDirection","fontFamily","Slider","step","min","max","onChange","mt","mb","fileName","_jsxFileName","lineNumber","columnNumber","justifyContent","alignItems","gap","flex","Typography","variant","fontSize","color","textAlign","fontWeight","Button","onClick","px","py","textTransform","_c","$RefreshReg$"],"sources":["/Users/guillermovarelli/Documents/workspace/act-front/src/form/StatusModal.js"],"sourcesContent":["// ... mismo imports y funciones ...\n\nconst StatusModal = ({ selectedCell, setSelectedCell, refreshData }) => {\n  if (!selectedCell) return null;\n\n  const currentValue = statusLevels.find((s) => s.label === selectedCell.status)?.value || 0.55;\n\n  const handleStatusChange = (_, newValue) => {\n    const closestStatus = getClosestStatus(newValue);\n    setSelectedCell((prev) => ({ ...prev, status: closestStatus.label }));\n  };\n\n  const handleSave = () => {\n    const closestStatus = getClosestStatus(currentValue);\n    const formattedDate = formatDate(selectedCell.x);\n\n    fetch(UPDATE_API_URL, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        date: formattedDate,\n        activity: selectedCell.activity,\n        status: closestStatus.label,\n      }),\n    })\n      .then(() => {\n        console.log(\"Updated successfully\");\n        refreshData();\n      })\n      .catch((err) => console.error(\"Error updating:\", err));\n\n    setSelectedCell(null);\n  };\n\n  const closestStatus = getClosestStatus(currentValue);\n\n  return (\n    <Modal open={!!selectedCell} onClose={() => setSelectedCell(null)}>\n      <Box\n        sx={{\n          p: 2,\n          bgcolor: \"#FFFFFF\",\n          borderRadius: 1,\n          boxShadow: 10,\n          maxWidth: 420,\n          margin: \"auto\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          fontFamily: \"Arial, sans-serif\",\n        }}\n      >\n        {/* Slider */}\n        <Slider\n          value={currentValue}\n          step={0.01}\n          min={0.15}\n          max={0.95}\n          onChange={handleStatusChange}\n          sx={{\n            mt: 0,\n            mb: 1,\n          }}\n        />\n\n        {/* Fila inferior con Date + Activity, status label y botón */}\n        <Box\n          sx={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            gap: 1,\n          }}\n        >\n          {/* div1 - Fecha y actividad */}\n          <Box sx={{ display: \"flex\", flexDirection: \"column\", flex: 1 }}>\n            <Typography variant=\"body2\" sx={{ fontSize: \"0.95rem\", color: \"#000\" }}>\n              <strong>Date:</strong> {formatDate(selectedCell.x)}\n            </Typography>\n            <Typography variant=\"body2\" sx={{ fontSize: \"0.95rem\", color: \"#000\" }}>\n              <strong>Activity:</strong> {selectedCell.activity}\n            </Typography>\n          </Box>\n\n          {/* div2 - Texto dinámico */}\n          <Box sx={{ flex: 1, textAlign: \"center\" }}>\n            <Typography\n              variant=\"body2\"\n              sx={{\n                fontSize: \"1rem\",\n                fontWeight: \"bold\",\n                color: \"#000\",\n              }}\n            >\n              {closestStatus.label}\n            </Typography>\n          </Box>\n\n          {/* div3 - Botón */}\n          <Box sx={{ flex: 1, textAlign: \"right\" }}>\n            <Button\n              variant=\"contained\"\n              onClick={handleSave}\n              sx={{\n                fontSize: \"0.9rem\",\n                fontWeight: \"bold\",\n                px: 2,\n                py: 0.5,\n                textTransform: \"none\",\n                bgcolor: \"#000\",\n                '&:hover': { bgcolor: \"#222\" },\n              }}\n            >\n              Save\n            </Button>\n          </Box>\n        </Box>\n      </Box>\n    </Modal>\n  );\n};\n\nexport default StatusModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}